<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromptCraft - Full-Stack Edition</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Code+Pro:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body{font-family:'Inter',sans-serif;background-color:#f8f9fa;color:#343a40;margin:0;padding:2rem;line-height:1.6}.container{max-width:1200px;margin:0 auto;background-color:#fff;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,.08);padding:2rem}h1,h2,h3{font-weight:700;color:#212529}h1{font-size:2.5rem;text-align:center;margin-bottom:.5rem}.subtitle{text-align:center;font-size:1.1rem;color:#6c757d;margin-bottom:3rem}h2{font-size:2rem;border-bottom:2px solid #e9ecef;padding-bottom:.5rem;margin-bottom:1.5rem}h3{font-size:1.5rem;margin-bottom:1rem}p,ul{margin-bottom:1rem}ul{padding-left:20px}strong{font-weight:600}code,textarea{font-family:'Source Code Pro',monospace;background-color:#e9ecef;padding:.2rem .4rem;border-radius:4px;font-size:.9rem}.tabs{display:flex;border-bottom:2px solid #dee2e6;margin-bottom:1.5rem}.tab-btn{padding:1rem 1.5rem;border:none;background:0 0;cursor:pointer;font-size:1rem;font-weight:500;color:#495057;border-bottom:2px solid transparent;margin-bottom:-2px;transition:color .2s,border-color .2s}.tab-btn:hover{color:#0056b3}.tab-btn.active{color:#007bff;border-color:#007bff}.tab-content{display:none}.tab-content.active{display:block}.tool-grid{display:grid;grid-template-columns:1fr;gap:2rem;margin-top:3rem}@media (min-width:768px){.tool-grid{grid-template-columns:1fr 1fr}}.card{background-color:#f8f9fa;padding:1.5rem;border-radius:8px;border:1px solid #dee2e6}.form-group{margin-bottom:1.5rem}label{display:block;font-weight:600;margin-bottom:.5rem}textarea{width:100%;padding:.75rem;border:1px solid #ced4da;border-radius:5px;font-size:.95rem;box-sizing:border-box;background-color:#fff}textarea:focus{outline:0;border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.button-container{text-align:right}.generate-btn{background-color:#007bff;color:#fff;font-weight:600;font-size:1rem;padding:.75rem 1.5rem;border:none;border-radius:5px;cursor:pointer;transition:background-color .2s;display:inline-flex;align-items:center}.generate-btn:hover{background-color:#0056b3}.generate-btn:disabled{background-color:#6c757d;cursor:not-allowed}.loader{width:18px;height:18px;border:2px solid #fff;border-top-color:transparent;border-radius:50%;animation:spin 1s linear infinite;margin-right:.5rem}@keyframes spin{to{transform:rotate(360deg)}}.results-container{margin-top:3rem}.comparison-grid{display:grid;grid-template-columns:1fr;gap:1.5rem}@media (min-width:1024px){.comparison-grid{grid-template-columns:repeat(3,1fr)}}.model-output{border:1px solid #dee2e6;border-radius:8px;overflow:hidden}.model-header{background-color:#e9ecef;padding:.75rem 1rem;font-weight:600}.model-body{padding:1rem;min-height:150px;background:#fff}.metrics{padding:1rem;background-color:#f8f9fa;border-top:1px solid #dee2e6;font-size:.9rem}.metric{display:flex;justify-content:space-between}.metric span:last-child{font-weight:600}.hidden{display:none}.error-message{color:#dc3545;margin-top:1rem;text-align:center}
    </style>
</head>
<body>
    <div class="container">
        <header><h1>PromptCraft ðŸš€</h1><p class="subtitle">A Full-Stack IDE for Prompt Engineering & Comparative Analysis</p></header>
        <section id="documentation">
            <h2>Project Documentation</h2>
            <div class="tabs">
                <button class="tab-btn active" data-tab="problem">1. Problem Definition</button>
                <button class="tab-btn" data-tab="literature">2. Literature Review</button>
                <button class="tab-btn" data-tab="implementation">3. Implementation</button>
                <button class="tab-btn" data-tab="analysis">4. Results Analysis</button>
                <button class="tab-btn" data-tab="execution">5. How to Execute</button>
            </div>
            <div id="problem" class="tab-content active"><h3>Problem Definition, Domain Selection & Relevance</h3><p><strong>Problem:</strong> The quality of output from Large Language Models (LLMs) is highly dependent on the quality of the input prompt. Crafting effective promptsâ€”a practice known as prompt engineeringâ€”is more of an art than a science. There is a lack of accessible tools that allow users to systematically experiment with prompts and compare the advanced outputs of generative AI with real, powerful transformer-based NLP models like BART or T5.</p><p><strong>Scope & Objectives:</strong> This project aims to develop a full-stack web application that serves as an IDE for prompt engineering. The frontend provides the user interface, while a Python backend runs the actual NLP models. The objective is to provide an educational and practical tool for understanding the differences in model outputs and evaluation metrics in a realistic, production-style environment.</p></div>
            <div id="literature" class="tab-content"><h3>Literature Review & Background Study</h3><p>The project draws from two main areas: modern LLM prompting and transformer-based summarization. For LLMs, techniques like "zero-shot" and "few-shot" prompting (Brown et al., 2020) are foundational. For the comparative models, we use established transformer architectures like <strong>DistilBART</strong> (Sanh et al., 2019), a distilled version of BART for efficient summarization, and <strong>T5</strong> (Raffel et al., 2020), a versatile text-to-text model. By integrating these, the tool provides a direct comparison between a general-purpose generative model (Gemini) and models specifically fine-tuned for summarization.</p></div>
            <div id="implementation" class="tab-content"><h3>Implementation & Technical Execution</h3><p><strong>Frontend:</strong> A single HTML file using vanilla JavaScript and custom CSS for a lightweight, responsive UI.</p><p><strong>Backend:</strong> A Python server using the Flask framework. It exposes API endpoints to handle requests from the frontend. This approach is crucial for two reasons: 1) It keeps the Gemini API key secure on the server, and 2) It provides the necessary Python environment to run the complex `transformers` models from Hugging Face.</p><p><strong>Model Integration:</strong></p><ul><li><strong>Gemini:</strong> The backend proxies requests to the official Gemini API.</li><li><strong>DistilBART & T5:</strong> The backend uses the `pipeline` function from the Hugging Face `transformers` library to load and run pre-trained summarization models. These models are loaded into memory when the server starts for efficient inference.</li></ul></div>
            <div id="analysis" class="tab-content"><h3>Results Analysis and Evaluation</h3><p>The application provides a comparative analysis of the outputs from Gemini, DistilBART, and T5. Evaluation is performed using several metrics:</p><ul><li><strong>Word Count:</strong> A basic but essential metric for controlling output length.</li><li><strong>Readability (Flesch-Kincaid):</strong> Estimates the educational level required to understand the text.</li><li><strong>ROUGE-1 (Recall):</strong> Measures the overlap of words between the generated output and the original source text.</li></ul></div>
            <div id="execution" class="tab-content"><h3>How to Execute</h3><p>This is now a full-stack application and requires a few steps to run both the backend and frontend.</p><h4>Backend Setup (Do this first)</h4><ol><li><strong>Install Python:</strong> Make sure you have Python 3.8+ installed.</li><li><strong>Create a Project Folder:</strong> Create a folder for the project and save the Python code as `app.py` inside it.</li><li><strong>Install Libraries:</strong> Open your terminal or command prompt, navigate to your project folder, and run this command: <br><code>pip install Flask flask-cors transformers torch sentencepiece requests</code></li><li><strong>(Optional but Recommended) Set API Key:</strong> For security, set your Gemini API key as an environment variable.<ul><li>On Mac/Linux: <code>export GEMINI_API_KEY='YOUR_API_KEY'</code></li><li>On Windows: <code>set GEMINI_API_KEY='YOUR_API_KEY'</code></li></ul>Alternatively, you can paste the key directly into the `app.py` file, but this is less secure.</li><li><strong>Run the Server:</strong> In the same terminal, run the command: <br><code>python app.py</code><br>You should see messages that the server is running and the models are loading. Keep this terminal open.</li></ol><h4>Frontend Setup</h4><ol><li><strong>Save the HTML:</strong> Save the HTML code in the same project folder as `index.html`.</li><li><strong>Open in Browser:</strong> Open `index.html` in your web browser. The application will now be able to communicate with your local backend server.</li></ol></div>
        </section>
        <main id="prompt-tool">
            <h2>Prompt Engineering Tool</h2>
            <div class="tool-grid">
                <div class="card">
                    <h3>1. Craft Your Prompt</h3>
                    <div class="form-group"><label for="prompt-template">Prompt Template</label><textarea id="prompt-template" rows="8" placeholder="e.g., Summarize the following text for a 5th grader: {{text}}"></textarea></div>
                    <div class="form-group"><label for="input-variables">Input Variables (JSON)</label><textarea id="input-variables" rows="6" placeholder='{ "text": "The mitochondria is the powerhouse of the cell. It generates most of the cell\'s supply of adenosine triphosphate (ATP), used as a source of chemical energy." }'></textarea></div>
                    <div class="button-container"><button id="generate-btn" class="generate-btn"><div id="loader" class="loader hidden"></div>Generate</button></div>
                </div>
                <div class="card">
                    <h3>2. Initial Input</h3>
                    <div id="source-text-container"><p>The source text from your input variables will be displayed here for evaluation comparison.</p></div>
                </div>
            </div>
            <div id="error-container" class="error-message"></div>
        </main>
        <section id="results" class="results-container hidden">
            <h2>Comparative Analysis & Evaluation</h2>
            <div id="comparison-container" class="comparison-grid"></div>
        </section>
    </div>
    <script>
        const generateBtn=document.getElementById("generate-btn"),loader=document.getElementById("loader"),promptTemplateEl=document.getElementById("prompt-template"),inputVariablesEl=document.getElementById("input-variables"),resultsSection=document.getElementById("results"),comparisonContainer=document.getElementById("comparison-container"),sourceTextContainer=document.getElementById("source-text-container"),errorContainer=document.getElementById("error-container"),tabs=document.querySelectorAll(".tab-btn"),tabContents=document.querySelectorAll(".tab-content"),BACKEND_URL="http://127.0.0.1:5000";async function handleGenerate(){clearError();const e=promptTemplateEl.value,t=inputVariablesEl.value;if(!e)return void showError("Please provide a prompt template.");let n;try{n=t?JSON.parse(t):{}}catch(e){return void showError("Invalid JSON in input variables. Please check the format.")}const o=n.text||"";if(!o)return void showError('The input variables must contain a "text" key for analysis.');sourceTextContainer.innerHTML=`<p>${o}</p>`;const a=constructPrompt(e,n);if(null===a)return void showError("Mismatched variables. Ensure all {{variables}} in the template have a key in the JSON.");setLoading(!0),comparisonContainer.innerHTML="",resultsSection.classList.remove("hidden");try{const e=callBackendAPI("/api/gemini",{prompt:a}),t=callBackendAPI("/api/summarize-bart",{text:o}),n=callBackendAPI("/api/summarize-t5",{text:o}),[i,r,s]=await Promise.all([e,t,n]);displayModelOutput("Gemini API (Generative)",i.text,o),displayModelOutput("DistilBART (Summarizer)",r.text,o),displayModelOutput("T5-Small (Summarizer)",s.text,o)}catch(e){console.error("Error during generation:",e),showError(`An error occurred: ${e.message}. Is the Python backend server running?`),resultsSection.classList.add("hidden")}finally{setLoading(!1)}}function constructPrompt(e,t){let n=e;for(const o in t){const a=new RegExp(`{{${o}}}`,"g");n=n.replace(a,t[o])}return n.match(/{{.*?}}/g)?null:n}async function callBackendAPI(e,t){const n=await fetch(BACKEND_URL+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const e=await n.json();throw new Error(e.error||`Request to ${e} failed`)}return n.json()}function displayModelOutput(e,t,n){const o=getWords(t).length,a=calculateFleschKincaid(t),i=calculateRouge1(t,n),r=document.createElement("div");r.className="model-output",r.innerHTML=`\n                <div class="model-header">${e}</div>\n                <div class="model-body"><p>${t||"No output generated."}</p></div>\n                <div class="metrics">\n                    <div class="metric"><span>Word Count:</span> <span>${o}</span></div>\n                    <div class="metric"><span>Readability Grade:</span> <span>${a.toFixed(1)}</span></div>\n                    <div class="metric"><span>ROUGE-1 Recall:</span> <span>${i.toFixed(3)}</span></div>\n                </div>\n            `,comparisonContainer.appendChild(r)}function calculateFleschKincaid(e){if(!e)return 0;const t=e.match(/[^.!?]+[.!?]+/g)||[],n=getWords(e);if(0===t.length||0===n.length)return 0;const o=n.reduce((e,t)=>e+countSyllables(t),0);return.39*(n.length/t.length)+11.8*(o/n.length)-15.59}function calculateRouge1(e,t){if(!e||!t)return 0;const n=new Set(getWords(e.toLowerCase())),o=getWords(t.toLowerCase());if(0===o.length)return 0;return o.filter(e=>n.has(e)).length/o.length}function countSyllables(e){e=e.toLowerCase();if(e.length<=3)return 1;e=e.replace(/(?:[^laeiouy]es|ed|[^laeiouy]e)$/,""),e=e.replace(/^y/,"");const t=e.match(/[aeiouy]{1,2}/g);return t?t.length:0}function getWords(e){return e.match(/\b\w+\b/g)||[]}function setLoading(e){generateBtn.disabled=e,loader.classList.toggle("hidden",!e)}function showError(e){errorContainer.textContent=e}function clearError(){errorContainer.textContent=""}generateBtn.addEventListener("click",handleGenerate),tabs.forEach(e=>{e.addEventListener("click",()=>{tabs.forEach(e=>e.classList.remove("active")),e.classList.add("active"),tabContents.forEach(e=>e.classList.remove("active"));const t=e.getAttribute("data-tab");document.getElementById(t).classList.add("active")})});
    </script>
</body>
</html>